<!DOCTYPE html>
<html lang="en">
<head>
    <!— Global site tag (gtag.js) - Google Analytics —>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-124515881-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-124515881-2');


    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title> آموزش برنامه نویسی Flask - فصل۲ - دست نوشته های یک تازه کار </title>
    <meta name="description"
          content="دسترسی سریع و ساده به آدرس ها و بخش های مختلف سایت از مزایای مهم این فریمورک می باشد."/>
    <meta name="keywords"
          content="لینوکس،لینوکس مشهد،آموزش,پایتون,پایتون مشهد,آموزش لینوکس,دیتابیس,آموزش دیتابیس,برنامه نویسی,linux,database,mysql,mariadb,datamart,galera cluster,apache,big data,dataware house,cluster,galera,percona,python,php,tutorial,debian,ubuntu,centos,arch linux,mashhad linux,iran linux,debian mashhad, python, flask, linux, programming, tutorial"/>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
          integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">

    <!--    <link href="https://rawgit.com/richleland/pygments-css/master/github.css" rel="stylesheet" crossorigin="anonymous">-->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style>
    body {
      direction: rtl;
    }
    p {
        font-size: 1.3em;
        line-height: 1.5em;
        text-align: justify;
      }
    pre {
        direction: ltr;
        border-left: 5px solid #6ce26c;
      }
    .panel-body ul li{
        margin: 10px 0;
    }
    a {
        color: #4608ad;
      }
    .panel-group .panel {
        margin-bottom: 5px;
    }
    .panel-primary > .panel-heading {
        background-color: #4608ad;
    }
    .navbar-default {
        background-color: #4608ad;
    }
    .navbar-default .navbar-brand {
        color: #ffffff;
    }
    .navbar-default .navbar-nav > li > a {
        color: #ffffff;
    }

    #back2Top {
    width: 40px;
    line-height: 40px;
    overflow: hidden;
    z-index: 999;
    display: none;
    cursor: pointer;
    -moz-transform: rotate(270deg);
    -webkit-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
    transform: rotate(270deg);
    position: fixed;
    bottom: 50px;
    right: 0;
    background-color: #DDD;
    text-align: center;
    font-size: 30px;
    text-decoration: none;
    }
    #back2Top:hover {
        background-color: #DDF;
        color: #000;
    }

    </style>
</head>
<body>

<a id="top"></a>
<div id="scroollto1"></div>
<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header navbar-right">
            <a class="navbar-brand" href="/">دست نوشته های یک تازه کار</a>
        </div>
        <ul class="nav navbar-nav navbar-right">
            
            
            <li><a href="/about.html" title="درباره ما">درباره ما</a></li>
            
            <li><a href="/contacus.html" title="ارتباط با ما">ارتباط با ما</a></li>
            
            <li><a href="/links.html" title="لینک های مفید">لینک های مفید</a></li>
            
            <li><a href="http://shgn.ir/tag/database.html" title="دیتابیس">دیتابیس</a></li>
            
            <li><a href="http://shgn.ir/tag/linux.html" title="لینوکس">لینوکس</a></li>
            
            
        </ul>
    </div>
</nav>

<div class="container">
    <div class="row">
        <div class="col-md-9">
            
    <div itemscope itemtype="http://schema.org/NewsArticle">
    <meta itemscope itemprop="mainEntityOfPage"  itemType="https://schema.org/WebPage" itemid="http://http://shgn.ir/2018-09-24/Flask-tutorial-02.html"/>
    <div class="page-header">
      <h3 itemprop="name">آموزش برنامه نویسی Flask - فصل۲</h3>
      
      
        <small>
          <p class="text-right">
            ارسال شده <span itemprop="author" itemscope itemtype="https://schema.org/Person">
                توسط <span itemprop="name">سید سجاد شاهچراغیان</span>
              </span>
              در تاریخ <span itemprop="datePublished">2018-09-24</span>
          </p>
        </small>
      
    </div>
      <section itemprop="articleBody">
        <p>در مطلب <a href="http://shgn.ir/2018-09-09/Flask-tutorial-01.html">قبلی</a> با میکروفریمورک <code>flask</code> آشنا شدیم. همچنین به نحوه نصب آن اشاره ای شد. در این مطلب سعی می شود تا نحوه فراخوانی و اجرای بخش های مختلف متدها یا کنترلرها در این فریمورک آشنا شویم.</p>
<h2>مسیریابی در Flask</h2>
<p>فریمورک های امروزی برای به یاد ماندن آدرس های <code>URL</code> به سادگی هر چه بیشتر برای کاربران، از تکنیک <code>routing</code> استفاده می کنند. به عبارت دیگر دسترسی به یک 
صفحه مشخص سایت به طور مستقیم خیلی کاربردی تر از این است که از طریق صفحه اصلی سایت به آن صفحه دسترسی پیدا کنیم.</p>
<p>در <code>Flask</code> 
از متد <code>route()</code> برای تخصیص یک آدرس به یک تابع استفاده می شود:</p>
<pre class="codehilite"><code>@app.route(‘/hello’)
def hello_world():
    return ‘hello world’</code></pre>


<p>همچنین برای همین منظور می توان از متد <code>add_url_rule()</code> استفاده کرد. این متد نیز همانند متد <code>route()</code> یک آدرس را به یک تابع تخصیص می دهد:</p>
<pre class="codehilite"><code>def hello_world():
   return ‘hello world’
app.add_url_rule(‘/’, ‘hello’, hello_world)</code></pre>


<h2>آدرس های پویا</h2>
<p>از دیگز امکانات ارائه شده در <code>Flask</code>، استفاده از آدرس های پویا با بهره گیری از متغییرها می باشد. این مهم به این صورت قابل انجام است که، در آدرس یک <code>&lt;variable-name&gt;</code> نیز ارسال شده که در متد<code>route()</code>ی
که به یک تابع تخصیص شده، آن متغییر را هم نیز به آن تابع ارسال می کند. برای نمونه:</p>
<pre class="codehilite"><code>from flask import Flask
app = Flask(__name__)

@app.route('/hello/&lt;name&gt;')
def hello_name(name):
   return 'Hello %s!' % name

if __name__ == '__main__':
   app.run(debug = True)</code></pre>


<p>اگر آدرس درخواست شده به صورت زیر باشد، برنامه آن نام را بر می گرداند:</p>
<pre class="codehilite"><code>http://localhost:5000/hello/user.</code></pre>


<p>از دیگر امکانات فلسک، تعیین نوع متغییر دریافت شده از آدرس می باشد. این نوع به صورت پیش فرض <code>String</code> هست، با این وجود از انواع زیر نیز می توان استفاده کرد:
<code>int</code>, <code>float</code>, <code>path</code></p>
<p>در مثال زیر این انواع مشهد می باشند:</p>
<pre class="codehilite"><code>from flask import Flask
app = Flask(__name__)

@app.route('/blog/&lt;int:postID&gt;')
def show_blog(postID):
   return 'Blog Number %d' % postID

@app.route('/rev/&lt;float:revNo&gt;')
def revision(revNo):
   return 'Revision Number %f' % revNo

if __name__ == '__main__':
   app.run()</code></pre>


<h2>تولید آدرس</h2>
<p>جهت تولید آدرس پویا برای یک تابع مشخص می توان از متد <code>url_for()</code> استفاده کرد.این متد، به عنوان اولین پارامتر، نام تابع و پارامترهای بعدی به عنوان پارامترهای قابل دریافت آن تابع را دریافت می کند. برای مثال:</p>
<pre class="codehilite"><code>from flask import Flask, redirect, url_for
app = Flask(__name__)

@app.route('/admin')
def hello_admin():
   return 'Hello Admin'

@app.route('/guest/&lt;guest&gt;')
def hello_guest(guest):
   return 'Hello %s as Guest' % guest

@app.route('/user/&lt;name&gt;')
def hello_user(name):
   if name =='admin':
      return redirect(url_for('hello_admin'))
   else:
      return redirect(url_for('hello_guest',guest = name))

if __name__ == '__main__':
   app.run(debug = True)</code></pre>


<h2>در پایان</h2>
<p>همانطور که مشاهده کردید، مسیریابی نیز در این فریمورک بسیار ساده و کاربردی بوده و برخلاف دیگر فریمورک ها پیچیدگی ندارد. انشاء الله در مطالب بعدی درباره انواع متدهای
مورد استفاده از در <code>HTTP</code> همانند <code>GET</code>, <code>PUT</code> و... صحبت خواهد شد.</p>
      </section>
      <div>
        برچسب ها:
      
        <a href="/tag/python.html">
            <span class="label label-default" itemprop="about">python</span>
        </a>
      
        <a href="/tag/flask.html">
            <span class="label label-default" itemprop="about">flask</span>
        </a>
      
        <a href="/tag/linux.html">
            <span class="label label-default" itemprop="about">linux</span>
        </a>
      
        <a href="/tag/programming.html">
            <span class="label label-default" itemprop="about">programming</span>
        </a>
      
        <a href="/tag/tutorial.html">
            <span class="label label-default" itemprop="about">tutorial</span>
        </a>
      
    </div>
    </div>

        </div>
        <div class="col-md-3">
            <div class="panel-group">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        من در stackexchange.com
                    </div>
                    <div class="panel-body">
                        <div class="col-md-3 col-md-offset-9">
                            <a href="http://stackexchange.com/users/887576" target="_blank">
                                <img src="http://stackexchange.com/users/flair/887576.png" width="208" height="58"
                                     alt="profile for shgnInc on Stack Exchange, a network of free, community-driven Q&A sites"
                                     title="profile for shgnInc on Stack Exchange, a network of free, community-driven Q&A sites">
                            </a>
                        </div>
                    </div>
                </div>


                <div class="panel-group">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            مطالب مهم
                        </div>
                        <div class="panel-body">
                            <ul>
                                <li><a href="http://shgn.ir/2020-08-15/installing_docker_on_debian.html"
                                       title="نصب Docker روی Debian 10">نصب Docker روی Debian 10</a></li>
                                <li><a href="http://shgn.ir/2018-09-05/Mysql-JSON-DataType.html"
                                       title="معرفی نوع داده JSON در دیتابیس Mysql-Mariadb">معرفی نوع داده JSON در
                                    دیتابیس Mysql-Mariadb</a></li>
                                <li><a href="http://shgn.ir/2018-07-23/ssh_automatic_login.html"
                                       title="لاگین خودکار با SSH">لاگین خودکار با SSH</a></li>
                                <li><a href="http://shgn.ir/2017-08-16/galera_cluster.html"
                                       title="نصب Galer Cluster بر روی debian8">نصب Galer Cluster بر روی debian8</a>
                                </li>
                            </ul>

                        </div>
                    </div>
                </div>

                <div class="panel-group">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            Linux ISO Images
                        </div>
                        <div class="panel-body">
                            <ul>
                                <li><a href="http://shgn.ir/images/gparted-live-1.1.0-1-amd64.iso"
                                       title="gparted-live-1.1.0-1-amd64">GParted Live CD/USB/HD/PXE Bootable Image</a>
                                </li>
                                <li><a href="http://shgn.ir/images/debian-10.3.0-amd64-xfce-CD-1.iso"
                                       title="debian-10.3.0-amd64-xfce-CD-1">Debian-10-amd64-xfce-CD</a></li>
                                <li><a href="http://shgn.ir/images/ubuntu-18.04.4-desktop-amd64.iso"
                                       title="ubuntu-18.04.4-desktop-amd64">Ubuntu Desktop</a></li>
                                <li><a href="http://shgn.ir/images/ubuntu-18.04.4-live-server-amd64.iso"
                                       title="ubuntu-18.04.4-live-server-amd64">Ubuntu Server</a></li>
                                <li><a href="http://shgn.ir/images/CentOS-7-aarch64-Minimal-1908.iso"
                                       title="CentOS-7-aarch64-Minimal-1908">CentOS-7-aarch64-Minimal-1908</a></li>
                            </ul>

                        </div>
                    </div>
                </div>

                <div class="panel-group">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            تازه ترین مطالب
                        </div>
                        <div class="panel-body">
                            <ul>
                                
                            </ul>

                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>
</div>
<hr/>
<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                
                <strong>پیشنهادی های</strong>
                <ul>
                    
                    <li><a href="https://github.com/shgninc">GitHub</a></li>
                    
                    <li><a href="https://www.instagram.com/shgninc/">Instagram</a></li>
                    
                    <li><a href="http://vasni.ir/">Vasni</a></li>
                    
                    <li><a href="https://virgool.io/@shgninc">Virgool</a></li>
                    
                    <li><a href="https://twitter.com/shahcheraghian">Twiteer</a></li>
                    
                    <li><a href="http://shgn.ir/yii2/">معرفی Yii2</a></li>
                    
                </ul>
                
            </div>
            <div class="col-md-6">
                <strong>دسترسی های ساده</strong>
                <ul>
                    <li><a href="/">تمامی پست ها</a></li>
                    <li><a href="/tags.html">فهرست تگ ها</a></li>
                </ul>
            </div>
            <div class="col-md-12">
                <p class="text-center"><small>http://shgn.ir &copy; 2020</small></p>
            </div>
        </div>
    </div>
</footer>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="http://shgn.ir/static/jquery/3.5.1/jquery.min.js"></script>
<script src="http://shgn.ir/static/ProngnRoll/prognroll.min.js"></script>
<script>
var jQ_3_5_1 = $.noConflict(true);

    /*Scroll to top when arrow up clicked BEGIN*/
jQ_3_5_1(window).scroll(function() {
    var height = jQ_3_5_1(window).scrollTop();
    if (height > 100) {
        jQ_3_5_1('#back2Top').fadeIn();
    } else {
        jQ_3_5_1('#back2Top').fadeOut();
    }
});
jQ_3_5_1(document).ready(function() {
    jQ_3_5_1("#back2Top").click(function(event) {
        event.preventDefault();
        jQ_3_5_1("html, body").animate({ scrollTop: 0 }, "slow");
        return false;
    });
});
 /*Scroll to top when arrow up clicked END*/

/* https://www.jqueryscript.net/other/jQuery-Scroll-Progress-Indicator-For-Any-Containers-ProngnRoll.html */

jQ_3_5_1("body").prognroll({
  position:"bottom",
  height:5,
  color:"#f54905"
});

</script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
<script>
var $x = jQuery.noConflict();
</script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"
        integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
        crossorigin="anonymous"></script>

<a id="back2Top" title="Back to top" href="#">&#10148;</a>

</body>
</html>